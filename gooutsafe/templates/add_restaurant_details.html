{% extends "base.html" %}

{% block page_title %} Add details {% endblock %}

{% block content %}

    <h3> {{ restaurant.name }} </h3> <br>
    <h5> Add some details to your restaurant </h5><br>

    <!-- General sheet of the tables -->
    <ul>
        <h5>Tables list </h5>
        {% for t in tables %}
            <li>{{ t.id }} -- Capacity: {{ t.capacity }} </li>
        {% endfor %}
    </ul>

    <!-- Button add table trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" 
            data-target="#addTable">
        Add a table
    </button>
  
    <!-- Modal add table -->
    <div class="modal fade" id="addTable" tabindex="-1" 
        aria-labelledby="addTable" aria-hidden="true">
        
       <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addTable">Add a table</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
            <form action="{{ url_for('restaurants.save_details', id_op=current_user.id, rest_id=restaurant.id) }}"
                method="POST">
                {{ form.hidden_tag() }}
                <dl>
                    {% for field in form.display %}
                        <dt>{{ form[field].label }}</dt>
                        <dd>{{ form[field]() }}</dd>
                        {% if form[field].errors %}
                            {% for e in form[field].errors %}
                                <p class="help-block">{{ e }}</p>
                            {% endfor %}
                        {% endif %}
                    {% endfor %}
                </dl>
                <p>
                    <input type=submit value="Publish">
            </form>
        </div>
      </div>
      </div>
    </div>

{% endblock %}
